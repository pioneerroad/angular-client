<!doctype html>
<html class="no-js" lang="" ng-app="pioneerRoad">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title>AngularJS Example Task</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="apple-touch-icon" href="apple-touch-icon.png">
        <link href='http://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,700' rel='stylesheet' type='text/css'>
        <!-- Place favicon.ico in the root directory -->

        <link rel="stylesheet" href="css/style.css">
        <link rel="stylesheet" href="css/main.css">
        <script src="js/vendor/modernizr-2.8.3.min.js"></script>
        <script src="js/angular.min.js"></script>
        <script src="js/app.js"></script>
        <script src="js/user_create_controller.js"></script>
        <script src="js/angular-ui-bootstrap-modal.js"></script>

    </head>
    <body ng-controller="UserCreateController">

        <!--[if lt IE 8]>
            <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</p>
        <![endif]-->

        <!-- Add your site or application content here -->
        <div class="info-bar"><h1>Create an Account</h1></div>
        <main>
            <div class="container"  >
                <form name="usercreate"ng-submit="((usercreate.$valid && passwordvalid)) && create_user()" novalidate>
                    <div role="alert">
                        <div  ng-show="usercreate.password.$touched">
                            <span class="error" ng-show="usercreate.password.$error.minlength">
                                Password Too short!<br/></span>
                            <span class="error" ng-show="usercreate.password.$error.pattern">
                                Must contain 1 digit and 1 uppercase letter!<br/></span>
                        </div>
                        <span ng-show="usercreate.email.$error.email && usercreate.email.$touched" >Invalid email address.<br/></span>
                        <div  ng-show="usercreate.mobile.$touched">
                            <span class="error" ng-show="usercreate.mobile.$error.pattern">
                                Mobile number must be a whole number!<br/></span>
                            <span class="error" ng-show="usercreate.mobile.$error.minlength">
                                Mobile number must be at least 10 digits!<br/></span>

                        </div>
                    </div>
                    <div ng-show="error && usercreate.password2.$touched" >Password does not match</div>
                    <div class="form-group">
                        <div class="input-group input-group-lg">
                            <span class="input-group-addon" id="sizing-addon"><span class="glyphicon glyphicon-envelope"></span></span>
                            <input type="email" class="form-control" name="email" placeholder="Email" aria-describedby="sizing-addon" ng-model="email"  required >
                        </div>

                    </div>
                    <div class="input-group input-group-lg">
                        <span class="input-group-addon" id="sizing-addon1"><span class="glyphicon glyphicon-phone"></span></span>
                        <input type="text" ng-pattern="/^\d+$/" name="mobile" class="form-control" placeholder="Mobile Number" aria-describedby="sizing-addon1" ng-model="mobile" required ng-minlength="10">
                    </div>

                    <div class="panel panel-default">
                        <div class="panel-body">
                            <h4>Password</h4>
                            <div class="input-group input-group-lg">
                                <span class="input-group-addon" id="sizing-addon2"><span class="glyphicon glyphicon-lock"></span></span>
                                <input type="password" class="form-control" name="password" placeholder="Password" aria-describedby="sizing-addon2" ng-model="password" required ng-minlength="8" ng-pattern="/^(?=.*[A-Z])(?=.*\d).+$/">
                            </div>
                            <div class="input-group input-group-lg">
                                <span class="input-group-addon" id="sizing-addon3"><span class="glyphicon glyphicon-lock"></span></span>
                                <input type="password" class="form-control" name="password2" placeholder="Enter again to confirm.." aria-describedby="sizing-addon3" ng-model="password2" ng-keyup="check_pwd_match()" required ng-minlength="8" ng-pattern="/^(?=.*[A-Z])(?=.*\d).+$/">
                            </div>

                            <div class="well">
                                <strong>Your password must have:</strong>
                                <ul>
                                    <li>8 or more characters</li>
                                    <li>At least 1 capital letter</li>
                                    <li>At least 1 numeral</li>
                                </ul>
                            </div>

                        </div>
                    </div>
                    <!-- #successModal -->
                    <button type="submit" class="btn btn-primary btn-lg" ng-click="(usercreate.$invalid || !passwordvalid) && CheckForError()">Join Now</button>
                </form>
            </div>
        </main>
        <div class="menu-bar">
            <ul role="menu">
                <li><a href="index.html"><span class="glyphicon glyphicon-home"></span></a></li>
                <li><a href="user-list.html"><span class="glyphicon glyphicon-th-list"></span></a></li>
            </ul>
        </div>
        <!-- Success Modal -->

        <div class="modal fade"  modal="ShowModal" id="successModal" tabindex="-1" role="dialog" aria-labelledby="successModalLabel">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-body">
                        <h1 class="modal-title" id="myModalTitle">Success!</h1>
                        <p>Your account has been created!</p>
                        <button type="button" class="btn btn-lg btn-success" data-dismiss="modal" ng-click='closeModal()'>OK</button>
                    </div>
                </div>
            </div>
        </div>
        <div class="modal fade"  modal="ShowErrorModal" id="errorModal" tabindex="-1" role="dialog" aria-labelledby="successModalLabel">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-body">
                        <h1 class="modal-title" id="myModalTitle">Failed!</h1>
                        <p>Your account has not been created!</p>
                        <p>{{error}}</p>
                        <button type="button" class="btn btn-lg btn-success" data-dismiss="modal" ng-click='closeModal()'>OK</button>
                    </div>
                </div>
            </div>
        </div>

        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
        <script>window.jQuery || document.write('<script src="js/vendor/jquery-1.11.3.min.js"><\/script>')</script>
        <script src="js/plugins.js"></script>
        <script src="js/main.js"></script>
        <script src="js/modal.js"></script>

        <!-- Google Analytics: change UA-XXXXX-X to be your site's ID. -->
        <script>
                                    (function (b, o, i, l, e, r) {
                                        b.GoogleAnalyticsObject = l;
                                        b[l] || (b[l] =
                                                function () {
                                                    (b[l].q = b[l].q || []).push(arguments)
                                                });
                                        b[l].l = +new Date;
                                        e = o.createElement(i);
                                        r = o.getElementsByTagName(i)[0];
                                        e.src = 'https://www.google-analytics.com/analytics.js';
                                        r.parentNode.insertBefore(e, r)
                                    }(window, document, 'script', 'ga'));
                                    ga('create', 'UA-XXXXX-X', 'auto');
                                    ga('send', 'pageview');
        </script>
    </body>
</html>
