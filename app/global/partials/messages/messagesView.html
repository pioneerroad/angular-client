
<div>
    <!-- ********* Messages Panel ***************** --> 
    <div class="overlay-panel" id="messages-panel" >
        <div class="title-panel">
            <div class="nav-back" ng-click="CloseMessages()"><button class="btn btn-default hidden"><span class="glyphicon glyphicon-chevron-left hidden"></span></button></div>
            <div class="title"><h3>Messages</h3></div>
            <div class="clearfix"></div>
        </div>
        <div id="msg-list-panel" class="msg-panel">
            <div class="well well-orange" id="msg-new-conversation">
                <div class="heading">
                    <h4>Start a new conversation</h4>
                    <button class="btn btn-default" id="startNewConversation"><span class="glyphicon glyphicon-pencil"></span></button>
                    <div class="clearfix"></div>
                </div>
                <div class="body hidden">
                    <div class="form-group">
                        <div class="input-group">
                            <label class="sr-only" for="nickname">Nickname</label>
                            <input type="text" class="form-control" id="nickname"/>
                            <span class="input-group-addon" id="addRecipient"><span class="glyphicon glyphicon-plus"></span></span>
                        </div>
                        <div class="msg-recipient-list"><ul></ul><!-- Visual indicator of msg recipients; User Ids also need to be added to an array and sent to server--> </div>
                        <div class="input-group">
                            <label class="sr-only" for="msg-body">Message Body</label>
                            <textarea class="form-control" rows="5" id="msg-body"></textarea>
                            <span type="submit" class="input-group-addon" id="postMessage"><span class="glyphicon glyphicon-share-alt"></span></span>
                        </div>
                    </div>
                </div>
            </div>
            <div class="msg-conversation-list">
                <div class="well well-blue" data-thread-id="425" ng-repeat="thread in threads"> <!-- data-thread-id value is msg thread ID --> 
                    <div class="row">
                        <div class="msg-user">{{thread.subscriber_nickname}}</div>
                        {{thread.qty}}
                        <div class="msg-date">{{thread.time| timeFilter}}</div>
                    </div>
                    <div class="msg-status unread"><span class="glyphicon glyphicon-asterisk"></span></div>
                    <div class="msg-user-profile-photo online"><img ng-src="{{thread.profilePic}}"/></div>
                    <div class="msg-summary">

                        <p class="summary-text">{{thread.message}}</p>
                    </div>
                    <div class="msg-open-thread"><span class="glyphicon glyphicon-chevron-right"><a href="#/message/{{thread.threadId}}"></a></span></div>
                    <div class="clearfix"></div>
                </div>
            </div>
        </div>  
    </div>
</div> 